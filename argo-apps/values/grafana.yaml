envFromSecret: grafana-env-secret
admin:
  existingSecret: grafana-admin
# persistence:
#   type: pvc
#   enabled: true
#   size: 5Gi
plugins:
  - grafana-clickhouse-datasource
  - vertamedia-clickhouse-datasource
datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
    - name: ClickHouse-Grafana
      uid: clusterclickhouse
      type: grafana-clickhouse-datasource
      jsonData:
        defaultDatabase: otel
        port: 9000
        host: a2b40a62cc1f94318b628c7838f3c168-277682861.us-east-2.elb.amazonaws.com
        username: '$CLICKHOUSE_USER'
        tlsSkipVerify: true
        logs:
          otelEnabled: true
          defaultDatabase: otel
          defaultTable: otel_logs
        traces:
          otelEnabled: true
          defaultDatabase: otel
          defaultTable: otel_traces
      secureJsonData:
        password: '$CLICKHOUSE_PASSWORD'
    - name: ClickHouse-Altinity
      uid: clickhouse-altinity
      type: vertamedia-clickhouse-datasource
      url: clickhouse://a2b40a62cc1f94318b628c7838f3c168-277682861.us-east-2.elb.amazonaws.com:9000
      jsonData:
        defaultDatabase: otel
        addCorsHeader: true
        serverName: "clickhouse"
        usePOST: true
        useYandexCloudAuthorization: true
        xHeaderUser: '$CLICKHOUSE_USER'
        tlsSkipVerify: true
        dataSourceUrl: clickhouse://a2b40a62cc1f94318b628c7838f3c168-277682861.us-east-2.elb.amazonaws.com:9000
      secureJsonData:
        xHeaderKey: '$CLICKHOUSE_PASSWORD'
